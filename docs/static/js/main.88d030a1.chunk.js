(this["webpackJsonpcalendar-challenge"]=this["webpackJsonpcalendar-challenge"]||[]).push([[0],{20:function(e,t,a){e.exports=a(53)},25:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),c=a.n(l),i=(a(25),a(1)),o=a(2),m=a.n(o),s=(a(27),a(19)),u="CalendarChallenge_Reminders";a(28);var d=function(e){var t=e.value,a=e.onSelect;return r.a.createElement("div",{className:"input--color"},r.a.createElement("label",{className:"input-color__label"},"Badge color"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return a("blue")},className:"input-color__button blue ".concat("blue"===t?"is-selected":"")},"Blue")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return a("green")},className:"input-color__button green ".concat("green"===t?"is-selected":"")},"Green")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return a("grey")},className:"input-color__button grey ".concat("grey"===t?"is-selected":"")},"Grey")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return a("purple")},className:"input-color__button purple ".concat("purple"===t?"is-selected":"")},"Purple")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return a("red")},className:"input-color__button red ".concat("red"===t?"is-selected":"")},"Red")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return a("yellow")},className:"input-color__button yellow ".concat("yellow"===t?"is-selected":"")},"Yellow"))))};a(29);function b(e){var t=e.label,a=e.name,l=e.value,c=e.onChange,o=e.maxLength,m=e.placeholder,s=e.errorMessage,u=Object(n.useState)(o||0),d=Object(i.a)(u,2),b=d[0],h=d[1];return Object(n.useEffect)((function(){o&&l?h(o-l.length):o&&h(o)}),[l,o]),r.a.createElement("div",{className:"input--text"},r.a.createElement("div",{className:"input-text__labels"},r.a.createElement("label",{htmlFor:a},t),o?r.a.createElement("span",{"data-testid":"RemainingCharactersCount",className:"input-text__remaining-chars"},b):null),r.a.createElement("input",{type:"text",id:a,value:l,maxLength:o&&o,onChange:function(e){c(e.target.value)},placeholder:m}),s&&r.a.createElement("p",{className:"input-text__error"},s))}b.defaultProps={label:"",maxLength:0,placeholder:"",errorMessage:""};var h=b;var f=function(e){var t=e.id,a=e.description,l=e.date,c=e.time,o=e.city,b=e.theme,f=e.closeDialog,E=Object(n.useState)(a),p=Object(i.a)(E,2),g=p[0],v=p[1],y=Object(n.useState)(m()(l,"YYYY-MM-DD").format("MM/DD/YYYY")),O=Object(i.a)(y,2),_=O[0],N=O[1],S=Object(n.useState)(c),j=Object(i.a)(S,2),C=j[0],x=j[1],Y=Object(n.useState)(o),M=Object(i.a)(Y,2),k=M[0],w=M[1],D=Object(n.useState)(b),L=Object(i.a)(D,2),J=L[0],H=L[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"reminder__overlay"}),r.a.createElement("div",{className:"reminder__lightbox"},r.a.createElement("header",null,r.a.createElement("h3",{className:"reminder-lightbox__title"},"Edit reminder"),r.a.createElement("button",{onClick:f,className:"reminder-lightbox__close-button"},"Close")),r.a.createElement(h,{name:"reminder-description",label:"Description",value:g,onChange:v,maxLength:30}),r.a.createElement("div",{className:"reminder-lightbox__datetime-fields"},r.a.createElement(h,{name:"reminder-time",label:"Time",placeholder:"Ex.: 21:00",value:C,onChange:x,maxLength:5}),r.a.createElement(h,{name:"reminder-day",label:"Day",placeholder:"Ex.: 12/31/2020",value:_,onChange:N,maxLength:10})),r.a.createElement(h,{name:"reminder-city",label:"City",value:k,onChange:w,maxLength:30}),r.a.createElement(d,{value:J,onSelect:H}),r.a.createElement("div",{className:"reminder-lightbox__buttons-list"},r.a.createElement("button",{className:"reminder-lightbox__primary-button",onClick:function(){!function(e){var t=localStorage.getItem(u),a=JSON.parse(t).filter((function(t){return t.id!==e.id}));localStorage.setItem(u,JSON.stringify([].concat(Object(s.a)(a),[e])))}({id:t,description:g,date:m()(_,"MM-DD-YYYY").format("YYYY-MM-DD"),time:m()(C,"HH:mm").format("HH:mm"),theme:J,city:k}),f(),window.location.reload(!1)}},"Save changes"),r.a.createElement("button",{className:"reminder-lightbox__delete-button",onClick:function(){!function(e){var t=localStorage.getItem(u),a=JSON.parse(t).filter((function(t){return t.id!==e}));localStorage.setItem(u,JSON.stringify(a))}(t),f(),window.location.reload(!1)}},"Delete reminder"),r.a.createElement("button",{className:"reminder-lightbox__delete-all-button",onClick:function(){!function(e){var t=localStorage.getItem(u),a=JSON.parse(t).filter((function(t){return t.date!==e}));localStorage.setItem(u,JSON.stringify(a))}(l),f(),window.location.reload(!1)}},"Delete all reminders from today"))))};a(30);var E=function(e){var t=e.closeDialog,a=Object(n.useState)(""),l=Object(i.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(""),b=Object(i.a)(s,2),f=b[0],E=b[1],p=Object(n.useState)(""),g=Object(i.a)(p,2),v=g[0],y=g[1],O=Object(n.useState)(""),_=Object(i.a)(O,2),N=_[0],S=_[1],j=Object(n.useState)(""),C=Object(i.a)(j,2),x=C[0],Y=C[1],M=Object(n.useState)(""),k=Object(i.a)(M,2),w=k[0],D=k[1],L=Object(n.useState)(""),J=Object(i.a)(L,2),H=J[0],I=J[1],B=Object(n.useState)("blue"),P=Object(i.a)(B,2),F=P[0],T=P[1];function R(){var e,t=0;return c?E(""):(E("Description field is mandatory"),t++),(e=v)&&m()(e,"MM/DD/YYYY").isValid()?S(""):(S("Please provide a valid date"),t++),!function(e){return!!e&&!!m()(e,"HH:mm").isValid()}(x)?(D("Please provide a valid time"),t++):D(""),!(t>0)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"reminder__overlay"}),r.a.createElement("div",{className:"reminder__lightbox"},r.a.createElement("header",null,r.a.createElement("h3",{className:"reminder-lightbox__title"},"New reminder"),r.a.createElement("button",{"data-testid":"NewReminderCloseDialogButton",onClick:t,className:"reminder-lightbox__close-button"},"Close")),r.a.createElement(h,{name:"reminder-description",label:"Description",value:c,onChange:o,maxLength:30,errorMessage:f}),r.a.createElement("div",{className:"reminder-lightbox__datetime-fields"},r.a.createElement(h,{name:"reminder-time",label:"Time",placeholder:"Ex.: 21:00",value:x,onChange:Y,maxLength:5,errorMessage:w}),r.a.createElement(h,{name:"reminder-day",label:"Day",placeholder:"Ex.: 12/31/2020",value:v,onChange:y,maxLength:10,errorMessage:N})),r.a.createElement(h,{name:"reminder-city",label:"City",value:H,onChange:I,maxLength:30}),r.a.createElement(d,{value:F,onSelect:T}),r.a.createElement("button",{className:"reminder-lightbox__primary-button",onClick:function(){R()&&(!function(e){var t=localStorage.getItem(u),a=t?JSON.parse(t):[];a.push(e),localStorage.setItem(u,JSON.stringify(a))}({id:Date.now().toString(),description:c,date:m()(v,"MM-DD-YYYY").format("YYYY-MM-DD"),time:m()(x,"HH:mm").format("HH:mm"),theme:F,city:H}),t(),window.location.reload(!1))},"data-testid":"CreateNewReminderButton"},"Create reminder")))};var p=function(e){var t=e.currentMonth,a=e.currentYear,l=e.handleMonthChange,c=Object(n.useState)(!1),o=Object(i.a)(c,2),m=o[0],s=o[1];function u(){s((function(e){return!e}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"calendar-title-bar"},r.a.createElement("div",{className:"calendar-header-info"},r.a.createElement("h1",{className:"calendar-current-month","data-testid":"calendarCurrentMonthLabel"},t),r.a.createElement("h3",{className:"calendar-current-year","data-testid":"calendarCurrentYearLabel"},a)),r.a.createElement("div",{className:"calendar-navigation"},r.a.createElement("button",{id:"new-reminder-button","data-testid":"calendarNewReminderButton",onClick:u},"Create new reminder"),r.a.createElement("button",{"data-testid":"calendarPreviousMonthButton",onClick:function(){l("previous")}},"Previous month"),r.a.createElement("button",{"data-testid":"calendarNextMonthButton",onClick:function(){l("next")}},"Next month"))),r.a.createElement("div",{className:"calendar-header"},r.a.createElement("ul",{className:"calendar-header__weekdays"},r.a.createElement("li",null,"Sunday"),r.a.createElement("li",null,"Monday"),r.a.createElement("li",null,"Tuesday"),r.a.createElement("li",null,"Wednesday"),r.a.createElement("li",null,"Thursday"),r.a.createElement("li",null,"Friday"),r.a.createElement("li",null,"Saturday"))),m&&r.a.createElement(E,{closeDialog:u}))};a(31),a(32);function g(e){var t=e.day,a=e.isToday,n=e.isSelected,l=e.isWeekend,c=e.isNotCurrentMonth,i=e.children,o=["calendar-body__day"];return a&&o.push("is-today"),n&&o.push("is-selected"),l&&o.push("is-weekend"),c&&o.push("is-not-current-month"),r.a.createElement("li",{className:o.join(" ")},r.a.createElement("span",{className:"calendar-day__label"},t),r.a.createElement("div",{className:"calendar-day__reminders"},i))}g.defaultProps={isToday:!1,isSelected:!1,isWeekend:!1,isNotCurrentMonth:!1};var v=g,y=a(6),O=a.n(y),_=a(17),N=a(18),S=a.n(N),j=(a(51),"b5217a925aff59ec624a1b3ac76d64a3");a(52);var C=function(){return r.a.createElement("div",{className:"loading-icon"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))};function x(e){var t=e.id,a=e.description,l=e.date,c=e.time,o=e.city,m=e.theme,s=Object(n.useState)(!1),u=Object(i.a)(s,2),d=u[0],b=u[1],h=Object(n.useState)(null),E=Object(i.a)(h,2),p=E[0],g=E[1],v=Object(n.useState)(!1),y=Object(i.a)(v,2),N=y[0],x=y[1];return Object(n.useEffect)((function(){function e(){return(e=Object(_.a)(O.a.mark((function e(){var t,a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=16;break}return x(!0),e.prev=2,t="https://api.openweathermap.org/data/2.5/weather?q=".concat(o,"&appid=").concat(j),e.next=6,S.a.get(t);case 6:a=e.sent,n=a.data,r=n.weather,g(r[0].description),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0.message);case 15:x(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(e){e.stopPropagation(),b(!0)},className:"reminder-label theme--".concat(m)},a,o&&N?r.a.createElement(C,null):null,p&&r.a.createElement("span",null,p," in ",o)),d&&r.a.createElement(f,{id:t,description:a,date:l,time:c,city:o,theme:m,closeDialog:function(){b(!1)}}))}x.defaultProps={city:""};var Y=x;var M=function(e){var t=e.dates,a=e.selectedDay,l=Object(n.useState)([]),c=Object(i.a)(l,2),o=c[0],s=c[1];function d(e,t){return e.time<t.time?-1:e.time>t.time?1:0}return Object(n.useEffect)((function(){var e=localStorage.getItem(u);e&&s(JSON.parse(e))}),[]),r.a.createElement("div",{className:"calendar-body"},t.map((function(e){return r.a.createElement("div",{key:e,className:"calendar-body__week"},e.map((function(e,t){return r.a.createElement(v,{key:e,day:e.format("D"),isSelected:a.isSame(e,"day"),isToday:e.isSame(new Date,"day"),isWeekend:0===t||6===t,isNotCurrentMonth:!a.isSame(e,"month")},null===o||void 0===o?void 0:o.sort(d).map((function(t){if(e.isSame(m()(t.date),"day"))return r.a.createElement(Y,Object.assign({key:t.id},t))})))})))})))};var k=function(){var e=Object(n.useState)(m()()),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),o=Object(i.a)(c,2),s=o[0],u=o[1];return Object(n.useEffect)((function(){u(function(e){for(var t=e.clone().startOf("month").startOf("week"),a=e.clone().endOf("month").endOf("week"),n=t.clone().subtract(1,"day"),r=[];n.isBefore(a,"day");)r.push(Array(7).fill(0).map((function(){return n.add(1,"day").clone()})));return r}(a))}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{currentMonth:a.format("MMMM"),currentYear:a.format("YYYY"),handleMonthChange:function(e){switch(e){case"next":l(a.clone().add(1,"month"));break;case"previous":l(a.clone().subtract(1,"month"))}}}),r.a.createElement(M,{dates:s,selectedDay:a}))};var w=function(){return r.a.createElement("div",{id:"app"},r.a.createElement(k,null))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.88d030a1.chunk.js.map